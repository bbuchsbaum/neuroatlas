% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cluster_explorer.R
\name{cluster_explorer}
\alias{cluster_explorer}
\title{Launch Cluster Explorer Shiny App}
\usage{
cluster_explorer(
  data_source = NULL,
  atlas = NULL,
  stat_map = NULL,
  surfatlas = NULL,
  sample_table = NULL,
  design = NULL,
  threshold = 3,
  min_cluster_size = 20,
  connectivity = c("26-connect", "18-connect", "6-connect"),
  tail = c("two_sided", "positive", "negative"),
  series_fun = NULL,
  overlay_space = NULL,
  overlay_density = NULL,
  overlay_resolution = NULL,
  overlay_fun = c("avg", "nn", "mode"),
  overlay_sampling = c("midpoint", "normal_line", "thickness"),
  prefetch = TRUE,
  prefetch_max_clusters = 200,
  prefetch_max_voxels = 1e+05,
  palette = "vik",
  selection_engine = c("cluster", "parcel", "sphere", "custom"),
  parcel_ids = NULL,
  sphere_centers = NULL,
  sphere_radius = 6,
  sphere_units = c("mm", "voxels"),
  sphere_combine = c("separate", "union"),
  selection_provider = NULL,
  analysis_plugins = NULL,
  default_analysis_plugin = "none"
)
}
\arguments{
\item{data_source}{A sample-wise data source supporting
\code{neuroim2::series(data_source, i)} where \code{i} is voxel coordinates
(\code{n x 3} matrix) or indices. Rows of the returned matrix correspond to
samples/design rows.}

\item{atlas}{A volumetric \code{atlas} object used for parcel annotation.}

\item{stat_map}{A \code{NeuroVol} statistic image used for thresholding and
clustering.}

\item{surfatlas}{A surface atlas object used by \code{\link{plot_brain}()}.
If \code{NULL} and all primary data inputs are also \code{NULL}, a bundled
synthetic demo dataset is used.}

\item{sample_table}{Optional data frame with one row per sample. If
\code{NULL}, a default table with \code{.sample_index} is created.}

\item{design}{Optional design table (one row per sample). When provided, it
is column-bound to \code{sample_table}.}

\item{threshold}{Numeric threshold used for cluster formation.}

\item{min_cluster_size}{Minimum number of voxels required to keep a cluster.}

\item{connectivity}{Connectivity passed to \code{neuroim2::conn_comp()}.}

\item{tail}{Clustering mode: \code{"positive"}, \code{"negative"}, or
\code{"two_sided"}.}

\item{series_fun}{Optional function override for extracting voxel-wise sample
series. Must accept \code{(data_source, i)} and return a matrix-like object
with one row per sample.}

\item{overlay_space}{Optional surface space override used to fetch white/pial
meshes for volumetric cluster projection. Defaults to
\code{surfatlas$surface_space}.}

\item{overlay_density}{Optional TemplateFlow density override for overlay
surface loading.}

\item{overlay_resolution}{Optional TemplateFlow resolution override for
overlay surface loading.}

\item{overlay_fun}{Reduction used by \code{neurosurf::vol_to_surf()}.}

\item{overlay_sampling}{Sampling strategy for \code{neurosurf::vol_to_surf()}.}

\item{prefetch}{Logical default for eager cluster signal prefetch.}

\item{prefetch_max_clusters}{Default max cluster count allowed for prefetch.}

\item{prefetch_max_voxels}{Default max total cluster voxels allowed for
prefetch.}

\item{palette}{Continuous palette passed to \code{\link{plot_brain}()}.}

\item{selection_engine}{Selection backend. \code{"cluster"} uses the
built-in connected-component workflow. \code{"custom"} delegates data
assembly to \code{selection_provider}.}

\item{parcel_ids}{Optional parcel ids used when
\code{selection_engine = "parcel"}. Default \code{NULL} uses all parcels.}

\item{sphere_centers}{Optional sphere centers used when
\code{selection_engine = "sphere"}. Provide numeric vector length 3 or
matrix/data.frame with 3 columns.}

\item{sphere_radius}{Sphere radius used when
\code{selection_engine = "sphere"}.}

\item{sphere_units}{Units for \code{sphere_centers} and \code{sphere_radius}:
\code{"mm"} (world coordinates) or \code{"voxels"} (grid coordinates).}

\item{sphere_combine}{How to combine multiple spheres:
\code{"separate"} (one region per sphere) or \code{"union"}.}

\item{selection_provider}{Optional function used when
\code{selection_engine = "custom"}. Must return a list compatible with
\code{build_cluster_explorer_data()} output.}

\item{analysis_plugins}{Optional list of analysis plugin definitions. Plugins
can transform extracted time-series/design data before plotting.}

\item{default_analysis_plugin}{Optional default plugin id. Defaults to
\code{"none"}.}
}
\value{
A \code{shiny.appobj}.
}
\description{
Interactive explorer linking a cluster summary table, parcel brain map, and
design-aware signal plots. Clusters are formed volumetrically from
\code{stat_map}; visualization is parcel-level on \code{surfatlas}.
}
\details{
Calling \code{cluster_explorer()} with no arguments launches a synthetic demo
dataset so the UI can be explored immediately.
}
