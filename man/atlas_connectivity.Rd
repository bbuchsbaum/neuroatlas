% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/atlas_connectivity.R
\name{atlas_connectivity}
\alias{atlas_connectivity}
\title{Compute Connectivity Matrix from Atlas Parcellations}
\usage{
atlas_connectivity(
  data_vol,
  atlas,
  method = c("pearson", "spearman", "partial"),
  threshold = NULL,
  stat_func = mean,
  ...
)
}
\arguments{
\item{data_vol}{A \code{NeuroVec} (4D) containing the time-series data.}

\item{atlas}{An atlas object defining the parcellation.}

\item{method}{Character string specifying the correlation method:
\code{"pearson"} (default), \code{"spearman"}, or \code{"partial"}.
Partial correlation requires the \pkg{corpcor} package.}

\item{threshold}{Optional numeric value. If supplied, entries with
\code{abs(r) < threshold} are set to zero.}

\item{stat_func}{Function used to summarise voxel values within each
parcel (default: \code{mean}).}

\item{...}{Additional arguments passed to \code{\link{reduce_atlas}}.}
}
\value{
A symmetric matrix of class \code{c("atlas_connectivity", "matrix")}
  with region labels as dimnames.
}
\description{
Extracts mean time-series for each atlas region from a 4D NeuroVec and
computes pairwise correlations to produce a connectivity matrix.
}
\examples{
\dontrun{
atlas <- get_schaefer_atlas(parcels = "100", networks = "7")
# data_vol is a 4D NeuroVec from an fMRI run
conn <- atlas_connectivity(data_vol, atlas)
conn_sparse <- atlas_connectivity(data_vol, atlas, threshold = 0.3)
}

}
\seealso{
\code{\link{reduce_atlas}} for the underlying extraction,
  \code{\link{as_igraph.atlas_connectivity}} for graph conversion
}
