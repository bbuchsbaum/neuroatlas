% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/roi_colors.R
\name{build_conflict_edges}
\alias{build_conflict_edges}
\title{Build slice-aware conflict edges between ROIs}
\usage{
build_conflict_edges(
  rois,
  id_col = "roi",
  xyz_cols = c("x", "y", "z"),
  k = 12,
  sigma_3d = NULL,
  views = c("axial", "coronal", "sagittal"),
  view_weights = c(axial = 1, coronal = 1, sagittal = 1),
  sigma_xy = 25,
  sigma_slice = 10,
  hemi_col = NULL,
  cross_hemi_factor = 0.85,
  network_col = NULL,
  diff_network_factor = 1.15,
  weight_transform = NULL
)
}
\arguments{
\item{rois}{Tibble with ROI metadata. Must contain `id_col` and the three
columns listed in `xyz_cols`.}

\item{id_col}{Column containing ROI IDs.}

\item{xyz_cols}{Character vector of length three giving the coordinates to
use for distance calculations.}

\item{k}{Number of nearest neighbours to evaluate when forming edges.}

\item{sigma_3d}{Spatial decay parameter in millimetres. Defaults to the
median neighbour distance.}

\item{views}{Character vector of anatomical views to consider. Supported:
`"axial"`, `"coronal"`, and `"sagittal"`.}

\item{view_weights}{Named numeric vector of weights for the supplied views.}

\item{sigma_xy}{In-plane decay (mm) for slice visibility.}

\item{sigma_slice}{Through-slice decay (mm) for slice visibility.}

\item{hemi_col}{Optional hemisphere column to down-weight cross-hemisphere
conflicts.}

\item{cross_hemi_factor}{Multiplicative factor (< 1) applied to conflicts
involving opposite hemispheres.}

\item{network_col}{Optional network column to up-weight cross-network
conflicts.}

\item{diff_network_factor}{Multiplicative factor (> 1) applied to conflicts
involving different networks.}

\item{weight_transform}{Optional function `function(edges, rois)` that can
modify the weights before returning.}
}
\value{
Tibble with columns `from_idx`, `to_idx`, `from`, `to`, and `w`.
}
\description{
Constructs a sparse, symmetric edge list describing which ROIs are likely
to collide visually across common slice views. The resulting tibble records
the ROI indices, names, and a normalised conflict weight in \[0, 1\].
}
